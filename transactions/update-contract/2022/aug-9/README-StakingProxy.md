# Update StakingProxy.cdc

> 2022 aug-9

## Contract to be deployed

https://github.com/onflow/flow-core-contracts/797b149ceaaa/contracts/StakingProxy.cdc

## Transaction
[Send Transction using Multisig tool](https://flow-multisig-git-service-account-onflow.vercel.app/mainnet?type=serviceAccount&name=update_contract.cdc&param=%5B%20%20%20%7B%20%20%20%20%20%22type%22:%20%22String%22,%20%20%20%20%20%22value%22:%20%22StakingProxy%22%20%20%20%7D,%20%20%20%7B%20%20%20%20%20%22type%22:%20%22String%22,%20%20%20%20%20%22value%22:%20%222f2f205468697320636f6e747261637420646566696e657320616e20696e7465726661636520666f72206e6f6465207374616b6572730a2f2f20746f2075736520746f2062652061626c6520746f20706572666f726d20636f6d6d6f6e207374616b696e6720616374696f6e730a0a2f2f20497420616c736f20646566696e65732061207265736f7572636520746861742061206e6f6465206f70657261746f722063616e0a2f2f2075736520746f2073746f7265207374616b696e672070726f7869657320666f7220616c6c206f66207468656972206e6f6465206f7065726174696f6e0a2f2f2072656c6174696f6e73686970730a0a70756220636f6e7472616374205374616b696e6750726f7879207b0a0a202020202f2f2f207061746820746f2073746f726520746865206e6f6465206f70657261746f72207265736f757263650a202020202f2f2f20696e20746865206e6f6465206f70657261746f7273206163636f756e7420666f72207374616b696e672068656c7065720a20202020707562206c6574204e6f64654f70657261746f724361706162696c69747953746f72616765506174683a2053746f72616765506174680a0a20202020707562206c6574204e6f64654f70657261746f724361706162696c6974795075626c6963506174683a205075626c6963506174680a0a202020202f2f2f20436f6e7461696e7320746865206e6f646520696e666f206173736f63696174656420776974682061206e6f6465206f70657261746f720a2020202070756220737472756374204e6f6465496e666f207b0a0a2020202020202020707562206c65742069643a20537472696e670a2020202020202020707562206c657420726f6c653a2055496e74380a2020202020202020707562206c6574206e6574776f726b696e67416464726573733a20537472696e670a2020202020202020707562206c6574206e6574776f726b696e674b65793a20537472696e670a2020202020202020707562206c6574207374616b696e674b65793a20537472696e670a0a2020202020202020696e6974286e6f646549443a20537472696e672c20726f6c653a2055496e74382c206e6574776f726b696e67416464726573733a20537472696e672c206e6574776f726b696e674b65793a20537472696e672c207374616b696e674b65793a20537472696e6729207b0a202020202020202020202020707265207b0a202020202020202020202020202020206e6f646549442e6c656e677468203d3d2036343a20224e6f6465204944206c656e677468206d7573742062652033322062797465732028363420686578206368617261637465727329220a202020202020202020202020202020206e6574776f726b696e67416464726573732e6c656e677468203e2030202626206e6574776f726b696e674b65792e6c656e677468203e2030202626207374616b696e674b65792e6c656e677468203e20303a0a202020202020202020202020202020202020202020202020224164647265737320616e64204b6579206861766520746f2062652074686520636f7272656374206c656e677468220a2020202020202020202020207d0a20202020202020202020202073656c662e6964203d206e6f646549440a20202020202020202020202073656c662e726f6c65203d20726f6c650a20202020202020202020202073656c662e6e6574776f726b696e6741646472657373203d206e6574776f726b696e67416464726573730a20202020202020202020202073656c662e6e6574776f726b696e674b6579203d206e6574776f726b696e674b65790a20202020202020202020202073656c662e7374616b696e674b6579203d207374616b696e674b65790a20202020202020207d0a202020207d0a0a202020202f2f2f2054686520696e746572666163652074686174206c696d69747320776861742061206e6f6465206f70657261746f722063616e206163636573730a202020202f2f2f2066726f6d20746865207374616b65722077686f2074686579206f70657261746520666f720a202020207075622073747275637420696e74657266616365204e6f64655374616b657250726f7879207b0a0a20202020202020207075622066756e207374616b654e6577546f6b656e7328616d6f756e743a20554669783634290a0a20202020202020207075622066756e207374616b65556e7374616b6564546f6b656e7328616d6f756e743a20554669783634290a0a20202020202020207075622066756e2072657175657374556e7374616b696e6728616d6f756e743a20554669783634290a0a20202020202020207075622066756e20756e7374616b65416c6c28290a0a20202020202020207075622066756e207769746864726177556e7374616b6564546f6b656e7328616d6f756e743a20554669783634290a0a20202020202020207075622066756e2077697468647261775265776172646564546f6b656e7328616d6f756e743a20554669783634290a0a202020207d0a0a202020202f2f2f2054686520696e746572666163652074686520646573637269626573207768617420612064656c656761746f722063616e20646f0a202020207075622073747275637420696e74657266616365204e6f646544656c656761746f7250726f7879207b0a0a20202020202020207075622066756e2064656c65676174654e6577546f6b656e7328616d6f756e743a20554669783634290a0a20202020202020207075622066756e2064656c6567617465556e7374616b6564546f6b656e7328616d6f756e743a20554669783634290a0a20202020202020207075622066756e2064656c65676174655265776172646564546f6b656e7328616d6f756e743a20554669783634290a0a20202020202020207075622066756e2072657175657374556e7374616b696e6728616d6f756e743a20554669783634290a0a20202020202020207075622066756e207769746864726177556e7374616b6564546f6b656e7328616d6f756e743a20554669783634290a0a20202020202020207075622066756e2077697468647261775265776172646564546f6b656e7328616d6f756e743a20554669783634290a202020207d0a0a202020202f2f2f2054686520696e7465726661636520746861742061206e6f6465206f70657261746f72207075626c6973686573207468656972204e6f64655374616b657250726f7879486f6c6465720a202020202f2f2f20617320696e206f7264657220746f20616c6c6f77206f7468657220746f6b656e20686f6c6465727320746f20696e697469616c697a650a202020202f2f2f207374616b696e672068656c7065722072656c6174696f6e73686970732077697468207468656d0a20202020707562207265736f7572636520696e74657266616365204e6f64655374616b657250726f7879486f6c6465725075626c6963207b0a0a20202020202020207075622066756e206164645374616b696e6750726f7879286e6f646549443a20537472696e672c2070726f78793a20416e795374727563747b4e6f64655374616b657250726f78797d290a0a20202020202020207075622066756e206765744e6f6465496e666f286e6f646549443a20537472696e67293a204e6f6465496e666f3f0a202020207d0a0a202020202f2f2f20546865207265736f757263652074686174206e6f6465206f70657261746f72732073746f726520696e207468656972206163636f756e74730a202020202f2f2f20746f206d616e6167652072656c6174696f6e7368697073207769746820746f6b656e20686f6c646572732077686f20706179207468656d206f66662d636861696e0a202020202f2f2f20696e7374656164206f66207769746820746f6b656e730a20202020707562207265736f75726365204e6f64655374616b657250726f7879486f6c6465723a204e6f64655374616b657250726f7879486f6c6465725075626c6963207b0a0a20202020202020202f2f2f204d617073206e6f64652049447320746f20616e7920737472756374207468617420696d706c656d656e747320746865204e6f64655374616b657250726f787920696e746572666163650a20202020202020202f2f2f20616c6c6f7773206e6f6465206f70657261746f727320746f20776f726b20776974682075736572732077697468206c6f636b656420746f6b656e730a20202020202020202f2f2f20616e64207769746820756e7374616b656420746f6b656e730a20202020202020206163636573732873656c662920766172207374616b696e6750726f786965733a207b537472696e673a20416e795374727563747b4e6f64655374616b657250726f78797d7d0a0a20202020202020202f2f2f204d617073206e6f64652049447320746f204e6f6465496e666f0a20202020202020206163636573732873656c662920766172206e6f6465496e666f3a207b537472696e673a204e6f6465496e666f7d0a0a2020202020202020696e69742829207b0a20202020202020202020202073656c662e7374616b696e6750726f78696573203d207b7d0a20202020202020202020202073656c662e6e6f6465496e666f203d207b7d0a20202020202020207d0a0a20202020202020202f2f2f204e6f6465206f70657261746f722063616c6c73207468697320746f2061646420696e666f2061626f75742061206e6f646520746865790a20202020202020202f2f2f2077616e7420746f2061636365707420746f6b656e7320666f720a20202020202020207075622066756e206164644e6f6465496e666f286e6f6465496e666f3a204e6f6465496e666f29207b0a202020202020202020202020707265207b0a2020202020202020202020202020202073656c662e6e6f6465496e666f5b6e6f6465496e666f2e69645d203d3d206e696c0a2020202020202020202020207d0a20202020202020202020202073656c662e6e6f6465496e666f5b6e6f6465496e666f2e69645d203d206e6f6465496e666f0a20202020202020207d0a0a20202020202020202f2f2f2052656d6f7665206e6f646520696e666f2069662069742069736e277420696e2075736520616e79206d6f72650a20202020202020207075622066756e2072656d6f76654e6f6465496e666f286e6f646549443a20537472696e67293a204e6f6465496e666f207b0a20202020202020202020202072657475726e2073656c662e6e6f6465496e666f2e72656d6f7665286b65793a206e6f6465494429210a20202020202020207d0a0a20202020202020202f2f2f205075626c69736865642066756e6374696f6e20746f2067657420616c6c2074686520696e666f20666f722061207370656369666963206e6f64652049440a20202020202020207075622066756e206765744e6f6465496e666f286e6f646549443a20537472696e67293a204e6f6465496e666f3f207b0a20202020202020202020202072657475726e2073656c662e6e6f6465496e666f5b6e6f646549445d0a20202020202020207d0a0a20202020202020202f2f2f205075626c69736865642066756e6374696f6e20666f72206120746f6b656e20686f6c6465722077686f20686173207369676e65642075700a20202020202020202f2f2f20746865206e6f6465206f70657261746f722773204e6f6465496e666f20746f206f7065726174652061206e6f64650a20202020202020202f2f2f20546865792073746f726520746865697220604e6f64655374616b657250726f787960206865726520746f20616c6c6f7720746865206e6f64650a20202020202020202f2f2f206f70657261746f7220746f20706572666f726d20736f6d65207374616b696e6720616374696f6e7320616c736f0a20202020202020207075622066756e206164645374616b696e6750726f7879286e6f646549443a20537472696e672c2070726f78793a20416e795374727563747b4e6f64655374616b657250726f78797d29207b0a202020202020202020202020707265207b0a2020202020202020202020202020202073656c662e7374616b696e6750726f786965735b6e6f646549445d203d3d206e696c0a2020202020202020202020207d0a20202020202020202020202073656c662e7374616b696e6750726f786965735b6e6f646549445d203d2070726f78790a20202020202020207d0a0a20202020202020202f2f2f20546865206e6f6465206f70657261746f722063616e2063616c6c207468652072656d6f76655374616b696e6750726f78792066756e6374696f6e0a20202020202020202f2f2f20746f2072656d6f76652061207374616b696e672070726f7879206966206974206973206e6f206c6f6e676572206e65656465640a20202020202020207075622066756e2072656d6f76655374616b696e6750726f7879286e6f646549443a20537472696e67293a20416e795374727563747b4e6f64655374616b657250726f78797d207b0a202020202020202020202020707265207b0a2020202020202020202020202020202073656c662e7374616b696e6750726f786965735b6e6f646549445d20213d206e696c0a2020202020202020202020207d0a0a20202020202020202020202072657475726e2073656c662e7374616b696e6750726f786965732e72656d6f7665286b65793a206e6f6465494429210a20202020202020207d0a0a20202020202020202f2f2f20426f72726f77206120227265666572656e63652220746f20746865207374616b696e672070726f787920736f207374616b696e67206f7065726174696f6e730a20202020202020202f2f2f2063616e20626520706572666f726d656420776974682069740a20202020202020207075622066756e20626f72726f775374616b696e6750726f7879286e6f646549443a20537472696e67293a20416e795374727563747b4e6f64655374616b657250726f78797d3f207b0a20202020202020202020202072657475726e2073656c662e7374616b696e6750726f786965735b6e6f646549445d0a20202020202020207d0a202020207d0a0a202020202f2f2f204372656174652061206e65772070726f787920686f6c64657220666f722061206e6f6465206f70657261746f720a202020207075622066756e2063726561746550726f7879486f6c64657228293a20404e6f64655374616b657250726f7879486f6c646572207b0a202020202020202072657475726e203c2d20637265617465204e6f64655374616b657250726f7879486f6c64657228290a202020207d0a0a20202020696e69742829207b0a202020202020202073656c662e4e6f64654f70657261746f724361706162696c69747953746f7261676550617468203d202f73746f726167652f6e6f64654f70657261746f720a202020202020202073656c662e4e6f64654f70657261746f724361706162696c6974795075626c696350617468203d202f7075626c69632f6e6f64654f70657261746f720a202020207d0a7d0a%22%20%20%20%7D%20%5D&acct=0x62430cf28c26d095&limit=9999)

## Fallback

### Dapper Labs Builds

```sh
flow transactions build ./templates/update_contract.cdc \
  --config-path flow.json \
  --network mainnet \
  --args-json "$(cat "./transactions/update-contract/2022/aug-9/arguments-update-contract-StakingProxy.json")" \
  --proposer 0x62430cf28c26d095 \
  --proposer-key-index 0 \
  --authorizer 0x62430cf28c26d095 \
  --authorizer 0x62430cf28c26d095 \
  --payer 0x62430cf28c26d095 \
  -x payload \
  --save ./transactions/update-contract/2022/aug-9/update-contract-StakingProxy-unsigned.rlp
```

## TODO Signs

```sh
flow transactions sign ./transactions/update-contract/2022/aug-9/update-contract-StakingProxy-unsigned.rlp \
  --config-path flow.json \
  --signer TODO \
  --filter payload \
  --save ./transactions/update-contract/2022/aug-9/update-contract-StakingProxy-sig-1.rlp
```

## Contract Admin Signs

```sh
flow transactions sign ./transactions/update-contract/2022/aug-9/update-contract-StakingProxy-sig-1.rlp \
  --config-path flow.json \
  --signer contract-admin \
  --filter payload \
  --save ./transactions/update-contract/2022/aug-9/update-contract-StakingProxy-sig-complete.rlp
```

## Somebody Submits

```sh
flow transactions send-signed --config-path flow.json --network mainnet ./transactions/update-contract/2022/aug-9/update-contract-StakingProxy-sig-complete.rlp
```


## Results

https://flowscan.org/transaction/c07e4c594c832c7b9f1955ca7d629215f5401e4716a1f4ef9372c6cdf21b5f68
