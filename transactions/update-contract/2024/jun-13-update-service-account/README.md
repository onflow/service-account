# Update RandomBeaconHistory Contract

> June 13th, 2024

Upgrade to the `â€˜FlowServiceAccount` contract

See issue: https://github.com/onflow/service-account/issues/294

## Transactions

1. Upgrade `FlowServiceAccount`.

Needs to be signed with the service account.

Used this to generate the contract code arguments:

`cat "./FlowServiceAccount.cdc" | xxd -p | tr -d '\n'`

Verified using:
```
$ cat arguments-update-FlowServiceAccount.json | jq '.[1] | .value' | xxd -r -p > /tmp/temp.txt
$ diff /tmp/temp.txt FlowServiceAccount.cdc
(Should produce no difference)
```
___


[Multisign link](https://flow-multisig-git-service-account-onflow.vercel.app/mainnet?type=serviceAccount&name=update_contract.cdc&param=%5B%20%20%20%7B%20%20%20%20%20%22type%22:%20%22String%22,%20%20%20%20%20%22value%22:%20%22FlowServiceAccount%22%20%20%20%7D,%20%20%20%7B%20%20%20%20%20%22type%22:%20%22String%22,%20%20%20%20%20%22value%22:%20%22696d706f72742046756e6769626c65546f6b656e2066726f6d202246756e6769626c65546f6b656e220a696d706f727420466c6f77546f6b656e2066726f6d203078464c4f57544f4b454e414444524553530a696d706f727420466c6f77466565732066726f6d203078464c4f5746454553414444524553530a696d706f727420466c6f7753746f72616765466565732066726f6d203078464c4f5753544f5241474546454553414444524553530a696d706f727420446570656e64656e637941756469742066726f6d2022446570656e64656e63794175646974220a0a70756220636f6e747261637420466c6f77536572766963654163636f756e74207b0a0a20202020707562206576656e74205472616e73616374696f6e46656555706461746564286e65774665653a20554669783634290a0a20202020707562206576656e74204163636f756e744372656174696f6e46656555706461746564286e65774665653a20554669783634290a0a20202020707562206576656e74204163636f756e7443726561746f724164646564286163636f756e7443726561746f723a2041646472657373290a0a20202020707562206576656e74204163636f756e7443726561746f7252656d6f766564286163636f756e7443726561746f723a2041646472657373290a0a20202020707562206576656e742049734163636f756e744372656174696f6e5265737472696374656455706461746564286973526573747269637465643a20426f6f6c290a0a202020202f2f2f20412066697865642d7261746520666565206368617267656420746f20657865637574652061207472616e73616374696f6e0a2020202070756220766172207472616e73616374696f6e4665653a205546697836340a0a202020202f2f2f20412066697865642d7261746520666565206368617267656420746f206372656174652061206e6577206163636f756e740a2020202070756220766172206163636f756e744372656174696f6e4665653a205546697836340a0a202020202f2f2f20546865206c697374206f66206163636f756e742061646472657373657320746861742068617665207065726d697373696f6e20746f20637265617465206163636f756e74730a2020202061636365737328636f6e74726163742920766172206163636f756e7443726561746f72733a207b416464726573733a20426f6f6c7d0a0a202020202f2f2f20496e697469616c697a6520616e206163636f756e742077697468206120466c6f77546f6b656e205661756c7420616e64207075626c697368206361706162696c69746965732e0a202020207075622066756e20696e697444656661756c74546f6b656e285f20616363743a20417574684163636f756e7429207b0a20202020202020202f2f204372656174652061206e657720466c6f77546f6b656e205661756c7420616e64207361766520697420696e2073746f726167650a2020202020202020616363742e73617665283c2d466c6f77546f6b656e2e637265617465456d7074795661756c7428292c20746f3a202f73746f726167652f666c6f77546f6b656e5661756c74290a0a20202020202020202f2f204372656174652061207075626c6963206361706162696c69747920746f20746865205661756c742074686174206f6e6c79206578706f7365730a20202020202020202f2f20746865206465706f7369742066756e6374696f6e207468726f7567682074686520526563656976657220696e746572666163650a2020202020202020616363742e6c696e6b3c26466c6f77546f6b656e2e5661756c747b46756e6769626c65546f6b656e2e52656365697665727d3e280a2020202020202020202020202f7075626c69632f666c6f77546f6b656e52656365697665722c0a2020202020202020202020207461726765743a202f73746f726167652f666c6f77546f6b656e5661756c740a2020202020202020290a0a20202020202020202f2f204372656174652061207075626c6963206361706162696c69747920746f20746865205661756c742074686174206f6e6c79206578706f7365730a20202020202020202f2f207468652062616c616e6365206669656c64207468726f756768207468652042616c616e636520696e746572666163650a2020202020202020616363742e6c696e6b3c26466c6f77546f6b656e2e5661756c747b46756e6769626c65546f6b656e2e42616c616e63657d3e280a2020202020202020202020202f7075626c69632f666c6f77546f6b656e42616c616e63652c0a2020202020202020202020207461726765743a202f73746f726167652f666c6f77546f6b656e5661756c740a2020202020202020290a202020207d0a0a202020202f2f2f20476574207468652064656661756c7420746f6b656e2062616c616e6365206f6e20616e206163636f756e740a202020202f2f2f0a202020202f2f2f2052657475726e73203020696620746865206163636f756e7420686173206e6f2064656661756c742062616c616e63650a202020207075622066756e2064656661756c74546f6b656e42616c616e6365285f20616363743a205075626c69634163636f756e74293a20554669783634207b0a20202020202020207661722062616c616e6365203d20302e300a20202020202020206966206c65742062616c616e6365526566203d20616363740a2020202020202020202020202e6765744361706162696c697479282f7075626c69632f666c6f77546f6b656e42616c616e6365290a2020202020202020202020202e626f72726f773c26466c6f77546f6b656e2e5661756c747b46756e6769626c65546f6b656e2e42616c616e63657d3e28297b0a2020202020202020202020202020202062616c616e6365203d2062616c616e63655265662e62616c616e63650a2020202020202020202020207d0a0a202020202020202072657475726e2062616c616e63650a202020207d0a0a202020202f2f2f2052657475726e2061207265666572656e636520746f207468652064656661756c7420746f6b656e207661756c74206f6e20616e206163636f756e740a202020207075622066756e2064656661756c74546f6b656e5661756c74285f20616363743a20417574684163636f756e74293a2026466c6f77546f6b656e2e5661756c74207b0a202020202020202072657475726e20616363742e626f72726f773c26466c6f77546f6b656e2e5661756c743e2866726f6d3a202f73746f726167652f666c6f77546f6b656e5661756c74290a2020202020202020202020203f3f2070616e69632822556e61626c6520746f20626f72726f77207265666572656e636520746f207468652064656661756c7420746f6b656e207661756c7422290a202020207d0a0a202020202f2f2f2057696c6c206265206465707265636174656420616e642063616e2062652064656c6574656420616674657220746865207377697463686f76657220746f20466c6f77466565732e6465647563745472616e73616374696f6e4665650a202020202f2f2f0a202020202f2f2f2043616c6c6564207768656e2061207472616e73616374696f6e206973207375626d697474656420746f2064656475637420746865206665650a202020202f2f2f2066726f6d2074686520417574684163636f756e742074686174207375626d69747465642069740a202020207075622066756e206465647563745472616e73616374696f6e466565285f20616363743a20417574684163636f756e7429207b0a202020202020202069662073656c662e7472616e73616374696f6e466565203d3d20554669783634283029207b0a20202020202020202020202072657475726e0a20202020202020207d0a0a20202020202020206c657420746f6b656e5661756c74203d2073656c662e64656661756c74546f6b656e5661756c742861636374290a202020202020202076617220666565416d6f756e74203d2073656c662e7472616e73616374696f6e4665650a202020202020202069662073656c662e7472616e73616374696f6e466565203e20746f6b656e5661756c742e62616c616e6365207b0a202020202020202020202020666565416d6f756e74203d20746f6b656e5661756c742e62616c616e63650a20202020202020207d0a0a20202020202020206c6574206665655661756c74203c2d20746f6b656e5661756c742e776974686472617728616d6f756e743a20666565416d6f756e74290a2020202020202020466c6f77466565732e6465706f7369742866726f6d3a203c2d6665655661756c74290a202020207d0a0a202020202f2f2f202d204465647563747320746865206163636f756e74206372656174696f6e206665652066726f6d2061207061796572206163636f756e742e0a202020202f2f2f202d20496e697473207468652064656661756c7420746f6b656e2e0a202020202f2f2f202d20496e697473206163636f756e742073746f726167652063617061636974792e0a202020207075622066756e2073657475704e65774163636f756e74286e65774163636f756e743a20417574684163636f756e742c2070617965723a20417574684163636f756e7429207b0a202020202020202069662021466c6f77536572766963654163636f756e742e69734163636f756e7443726561746f722870617965722e6164647265737329207b0a20202020202020202020202070616e696328224163636f756e74206e6f7420617574686f72697a656420746f20637265617465206163636f756e747322290a20202020202020207d0a0a0a202020202020202069662073656c662e6163636f756e744372656174696f6e466565203c20466c6f7753746f72616765466565732e6d696e696d756d53746f726167655265736572766174696f6e207b0a20202020202020202020202070616e696328224163636f756e74206372656174696f6e206665657320736574757020696e636f72726563746c7922290a20202020202020207d0a0a20202020202020206c657420746f6b656e5661756c74203d2073656c662e64656661756c74546f6b656e5661756c74287061796572290a20202020202020206c6574206665655661756c74203c2d20746f6b656e5661756c742e776974686472617728616d6f756e743a2073656c662e6163636f756e744372656174696f6e466565290a20202020202020206c65742073746f726167654665655661756c74203c2d20286665655661756c742e776974686472617728616d6f756e743a20466c6f7753746f72616765466565732e6d696e696d756d53746f726167655265736572766174696f6e29206173212040466c6f77546f6b656e2e5661756c74290a2020202020202020466c6f77466565732e6465706f7369742866726f6d3a203c2d6665655661756c74290a0a2020202020202020466c6f77536572766963654163636f756e742e696e697444656661756c74546f6b656e286e65774163636f756e74290a0a20202020202020206c6574207661756c74526566203d20466c6f77536572766963654163636f756e742e64656661756c74546f6b656e5661756c74286e65774163636f756e74290a0a20202020202020207661756c745265662e6465706f7369742866726f6d3a203c2d73746f726167654665655661756c74290a202020207d0a0a202020202f2f2f2052657475726e7320747275652069662074686520676976656e2061646472657373206973207065726d697474656420746f20637265617465206163636f756e74732c2066616c7365206f74686572776973650a202020207075622066756e2069734163636f756e7443726561746f72285f20616464726573733a2041646472657373293a20426f6f6c207b0a20202020202020202f2f204966206163636f756e74206372656174696f6e206973206e6f7420726573747269637465642c207468656e20616e796f6e652063616e2063726561746520616e206163636f756e740a20202020202020206966202173656c662e69734163636f756e744372656174696f6e526573747269637465642829207b0a20202020202020202020202072657475726e20747275650a20202020202020207d0a202020202020202072657475726e2073656c662e6163636f756e7443726561746f72735b616464726573735d203f3f2066616c73650a202020207d0a0a202020202f2f2f2049732074727565206966206e6577206163636f6e74732063616e206f6e6c79206265206372656174656420627920617070726f766564206163636f756e7473206073656c662e6163636f756e7443726561746f7273600a202020207075622066756e2069734163636f756e744372656174696f6e5265737472696374656428293a20426f6f6c207b0a202020202020202072657475726e2073656c662e6163636f756e742e636f70793c426f6f6c3e2866726f6d3a202f73746f726167652f69734163636f756e744372656174696f6e5265737472696374656429203f3f2066616c73650a202020207d0a0a202020202f2f20417574686f72697a6174696f6e207265736f7572636520746f206368616e676520746865206669656c6473206f662074686520636f6e74726163740a202020202f2f2f2052657475726e7320616c6c20616464726573736573207065726d697474656420746f20637265617465206163636f756e74730a202020207075622066756e206765744163636f756e7443726561746f727328293a205b416464726573735d207b0a202020202020202072657475726e2073656c662e6163636f756e7443726561746f72732e6b6579730a202020207d0a0a202020202f2f204765747320457865637574696f6e204566666f727420576569676874732066726f6d207468652073657276696365206163636f756e7427732073746f726167650a202020207075622066756e20676574457865637574696f6e4566666f72745765696768747328293a207b55496e7436343a2055496e7436347d207b0a202020202020202072657475726e2073656c662e6163636f756e742e636f70793c7b55496e7436343a2055496e7436347d3e2866726f6d3a202f73746f726167652f657865637574696f6e4566666f727457656967687473290a2020202020202020202020203f3f2070616e69632822657865637574696f6e206566666f72742077656967687473206e6f74207365742079657422290a202020207d0a0a202020202f2f204765747320457865637574696f6e204d656d6f727920576569676874732066726f6d207468652073657276696365206163636f756e7427732073746f726167650a202020207075622066756e20676574457865637574696f6e4d656d6f72795765696768747328293a207b55496e7436343a2055496e7436347d207b0a202020202020202072657475726e2073656c662e6163636f756e742e636f70793c7b55496e7436343a2055496e7436347d3e2866726f6d3a202f73746f726167652f657865637574696f6e4d656d6f727957656967687473290a2020202020202020202020203f3f2070616e69632822657865637574696f6e206d656d6f72792077656967687473206e6f74207365742079657422290a202020207d0a0a202020202f2f204765747320457865637574696f6e204d656d6f7279204c696d69742066726f6d207468652073657276696365206163636f756e7427732073746f726167650a202020207075622066756e20676574457865637574696f6e4d656d6f72794c696d697428293a2055496e743634207b0a202020202020202072657475726e2073656c662e6163636f756e742e636f70793c55496e7436343e2866726f6d3a202f73746f726167652f657865637574696f6e4d656d6f72794c696d6974290a2020202020202020202020203f3f2070616e69632822657865637574696f6e206d656d6f7279206c696d6974206e6f74207365742079657422290a202020207d0a0a202020202f2f2f20417574686f72697a6174696f6e207265736f7572636520746f206368616e676520746865206669656c6473206f662074686520636f6e74726163740a20202020707562207265736f757263652041646d696e6973747261746f72207b0a0a20202020202020202f2f2f205365747320746865207472616e73616374696f6e206665650a20202020202020207075622066756e207365745472616e73616374696f6e466565285f206e65774665653a2055466978363429207b0a2020202020202020202020206966206e657746656520213d20466c6f77536572766963654163636f756e742e7472616e73616374696f6e466565207b0a20202020202020202020202020202020656d6974205472616e73616374696f6e46656555706461746564286e65774665653a206e6577466565290a2020202020202020202020207d0a202020202020202020202020466c6f77536572766963654163636f756e742e7472616e73616374696f6e466565203d206e65774665650a20202020202020207d0a0a20202020202020202f2f2f205365747320746865206163636f756e74206372656174696f6e206665650a20202020202020207075622066756e207365744163636f756e744372656174696f6e466565285f206e65774665653a2055466978363429207b0a2020202020202020202020206966206e657746656520213d20466c6f77536572766963654163636f756e742e6163636f756e744372656174696f6e466565207b0a20202020202020202020202020202020656d6974204163636f756e744372656174696f6e46656555706461746564286e65774665653a206e6577466565290a2020202020202020202020207d0a202020202020202020202020466c6f77536572766963654163636f756e742e6163636f756e744372656174696f6e466565203d206e65774665650a20202020202020207d0a0a20202020202020202f2f2f204164647320616e206163636f756e74206164647265737320617320616e20617574686f72697a6564206163636f756e742063726561746f720a20202020202020207075622066756e206164644163636f756e7443726561746f72285f206163636f756e7443726561746f723a204164647265737329207b0a202020202020202020202020696620466c6f77536572766963654163636f756e742e6163636f756e7443726561746f72735b6163636f756e7443726561746f725d203d3d206e696c207b0a20202020202020202020202020202020656d6974204163636f756e7443726561746f724164646564286163636f756e7443726561746f723a206163636f756e7443726561746f72290a2020202020202020202020207d0a202020202020202020202020466c6f77536572766963654163636f756e742e6163636f756e7443726561746f72735b6163636f756e7443726561746f725d203d20747275650a20202020202020207d0a0a20202020202020202f2f2f2052656d6f76657320616e206163636f756e74206164647265737320617320616e20617574686f72697a6564206163636f756e742063726561746f720a20202020202020207075622066756e2072656d6f76654163636f756e7443726561746f72285f206163636f756e7443726561746f723a204164647265737329207b0a202020202020202020202020696620466c6f77536572766963654163636f756e742e6163636f756e7443726561746f72735b6163636f756e7443726561746f725d20213d206e696c207b0a20202020202020202020202020202020656d6974204163636f756e7443726561746f7252656d6f766564286163636f756e7443726561746f723a206163636f756e7443726561746f72290a2020202020202020202020207d0a202020202020202020202020466c6f77536572766963654163636f756e742e6163636f756e7443726561746f72732e72656d6f7665286b65793a206163636f756e7443726561746f72290a20202020202020207d0a0a2020202020202020207075622066756e2073657449734163636f756e744372656174696f6e52657374726963746564285f20656e61626c65643a20426f6f6c29207b0a2020202020202020202020206c65742070617468203d202f73746f726167652f69734163636f756e744372656174696f6e526573747269637465640a2020202020202020202020206c6574206f6c6456616c7565203d20466c6f77536572766963654163636f756e742e6163636f756e742e6c6f61643c426f6f6c3e2866726f6d3a2070617468290a202020202020202020202020466c6f77536572766963654163636f756e742e6163636f756e742e736176653c426f6f6c3e28656e61626c65642c20746f3a2070617468290a202020202020202020202020696620656e61626c656420213d206f6c6456616c7565207b0a20202020202020202020202020202020656d69742049734163636f756e744372656174696f6e5265737472696374656455706461746564286973526573747269637465643a20656e61626c6564290a2020202020202020202020207d0a20202020202020207d0a202020207d0a0a202020202f2f2f20636865636b446570656e64656e636965732069732063616c6c6564206279207468652046564d2061742074686520656e64206f6620746865207472616e73616374696f6e20657865637574696f6e0a202020202f2f2f205468652060646570656e64656e636965734164647265737365736020616e642060646570656e64656e636965734e616d65736020617265207468652061646472657373657320616e64206e616d6573206f6620616c6c2074686520636f6e747261637473207468617420746865207472616e73616374696f6e20646570656e6473206f6e2e0a202020202f2f2f205468652060617574686f72697a65727360206172652074686520616464726573736573206f6620746865206163636f756e7473207468617420617574686f72697a656420746865207472616e73616374696f6e20616e64207468652070617965722e0a202020202f2f2f205468652046564d2063616e2063616c6c2074686973206576656e2074686f75676820697420697320707269766174652e0a202020202f2f2f20636865636b446570656e64656e63696573206973206e6f7420696e74656e64656420746f2062652063616c6c65642062792074686520757365722e0a202020206163636573732873656c66292066756e20636865636b446570656e64656e63696573285f20646570656e64656e636965734164647265737365733a205b416464726573735d2c205f20646570656e64656e636965734e616d65733a205b537472696e675d2c205f20617574686f72697a6572733a205b416464726573735d29207b0a20202020202020202f2f20666f72776164207468652063616c6c20746f2074686520446570656e64656e637941756469742c207768657265207468652061637475616c20636865636b20697320646f6e652e0a2020202020202020446570656e64656e637941756469742e636865636b446570656e64656e6369657328646570656e64656e636965734164647265737365732c20646570656e64656e636965734e616d65732c20617574686f72697a657273290a202020207d0a0a20202020696e69742829207b0a202020202020202073656c662e7472616e73616374696f6e466565203d20302e300a202020202020202073656c662e6163636f756e744372656174696f6e466565203d20302e300a0a202020202020202073656c662e6163636f756e7443726561746f7273203d207b7d0a0a20202020202020206c65742061646d696e203c2d206372656174652041646d696e6973747261746f7228290a202020202020202061646d696e2e6164644163636f756e7443726561746f722873656c662e6163636f756e742e61646472657373290a0a202020202020202073656c662e6163636f756e742e73617665283c2d61646d696e2c20746f3a202f73746f726167652f666c6f775365727669636541646d696e290a202020207d0a7d0a%22%20%20%20%7D%20%5D&acct=0xe467b9dd11fa00df&limit=9999)




### Results

Successful attempt:
https://www.flowdiver.io/tx/

___

